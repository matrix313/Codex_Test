<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mouse vs Monkey - Starter</title>
  <style>
    html, body {
      margin: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
    }

    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <canvas id="game"></canvas>
  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    const player = {
      x: canvas.width / 2,
      y: canvas.height / 2,
      radius: 14
    };

    const monkey = {
      x: 120,
      y: 120,
      radius: 24,
      speed: 2.2
    };

    const cursor = {
      x: player.x,
      y: player.y
    };

    let isGameOver = false;

    window.addEventListener('mousemove', (event) => {
      const rect = canvas.getBoundingClientRect();
      cursor.x = event.clientX - rect.left;
      cursor.y = event.clientY - rect.top;
    });

    function update() {
      if (isGameOver) return;

      // Player follows cursor
      player.x += (cursor.x - player.x) * 0.2;
      player.y += (cursor.y - player.y) * 0.2;

      // Monkey chases player
      const dx = player.x - monkey.x;
      const dy = player.y - monkey.y;
      const distance = Math.hypot(dx, dy);
      if (distance > 0.001) {
        monkey.x += (dx / distance) * monkey.speed;
        monkey.y += (dy / distance) * monkey.speed;
      }

      // Collision detection
      if (distance <= player.radius + monkey.radius) {
        isGameOver = true;
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Player
      ctx.fillStyle = '#dcdcdc';
      ctx.beginPath();
      ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
      ctx.fill();

      // Monkey
      ctx.fillStyle = '#8b5a2b';
      ctx.beginPath();
      ctx.arc(monkey.x, monkey.y, monkey.radius, 0, Math.PI * 2);
      ctx.fill();

      if (isGameOver) {
        ctx.fillStyle = 'rgba(0,0,0,0.5)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = '#ff4d4d';
        ctx.textAlign = 'center';
        ctx.font = 'bold 64px Arial';
        ctx.fillText('Game Over', canvas.width / 2, canvas.height / 2);
      }
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>
